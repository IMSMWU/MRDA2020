<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>04-summary statistics</title>
  <meta name="description" content="04-summary statistics" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="04-summary statistics" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="04-summary statistics" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">MRDA 2019</a></strong></li>
<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#summarizing-data"><i class="fa fa-check"></i><b>1</b> Summarizing data</a><ul>
<li class="chapter" data-level="1.1" data-path=""><a href="#summary-statistics"><i class="fa fa-check"></i><b>1.1</b> Summary statistics</a><ul>
<li class="chapter" data-level="1.1.1" data-path=""><a href="#categorical-variables"><i class="fa fa-check"></i><b>1.1.1</b> Categorical variables</a></li>
<li class="chapter" data-level="1.1.2" data-path=""><a href="#continuous-variables"><i class="fa fa-check"></i><b>1.1.2</b> Continuous variables</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">04-summary statistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">04-summary statistics</h1>
</div>
<div id="summarizing-data" class="section level1">
<h1><span class="header-section-number">1</span> Summarizing data</h1>
<div id="summary-statistics" class="section level2">
<h2><span class="header-section-number">1.1</span> Summary statistics</h2>
<p>This section discusses how to produce and analyse basic summary statistics. We make a distinction between categorical and continuous variables, for which different statistics are permissible.</p>
<p><a href="./Code/04-basic_statistics.R">You can download the corresponding R-Code here</a></p>
<p><br>
<br></p>
<table>
<thead>
<tr class="header">
<th>OK to compute….</th>
<th>Nominal</th>
<th>Ordinal</th>
<th>Interval</th>
<th>Ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>frequency distribution</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>median and percentiles</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>mean, standard deviation, standard error of the mean</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>ratio, or coefficient of variation</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>As an example data set, we will be using the Spotify music data. Let’s load and inspect the data first. Students of the course can get the data via Learn@WU. If you are not enrolled in the course please contact <a href="https://www.wu.ac.at/en/imsm/about-us/team/daniel-winkler">Daniel Winkler</a> (<a href="https://www.wu.ac.at/en/imsm/about-us/team/daniel-winkler" class="uri">https://www.wu.ac.at/en/imsm/about-us/team/daniel-winkler</a>).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">readRDS</span>(<span class="st">&quot;music_data.rds&quot;</span>)</a></code></pre></div>
<div id="categorical-variables" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Categorical variables</h3>
<p>Categorical variables contain a finite number of categories or distinct groups and are also known as qualitative variables. There are different types of categorical variables:</p>
<ul>
<li><strong>Nominal variables</strong>: variables that have two or more categories but no logical order (e.g., music genres). A dichotomous variables is simply a nominal variable that only has two categories (e.g., gender).</li>
<li><strong>Ordinal variables</strong>: variables that have two or more categories that can also be ordered or ranked (e.g., income groups).</li>
</ul>
<p>For this example, we are interested in the following two variables</p>
<ul>
<li>“genre”: the music genre the song is associated with, subsetted for the most frequent genres.<br />
</li>
<li>“explicit”: whether the lyrics of the tracks are explicit or not (0 = not explicit, 1 = explicit)</li>
</ul>
<p><a href="https://developer.spotify.com/documentation/web-api/reference/personalization/get-users-top-artists-and-tracks/">You can find a full description of the variables here:</a></p>
<p>In a first step, we convert the variables to factor variables using the <code>factor()</code> function to assign appropriate labels according to the scale points:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">s.genre &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;pop&quot;</span>, <span class="st">&quot;hip hop&quot;</span>, <span class="st">&quot;rock&quot;</span>, <span class="st">&quot;rap&quot;</span>, <span class="st">&quot;indie&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" title="2">music_data &lt;-<span class="st"> </span><span class="kw">subset</span>(music_data, top.genre <span class="op">%in%</span><span class="st"> </span>s.genre)</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4">music_data<span class="op">$</span>genre_cat &lt;-<span class="st"> </span><span class="kw">as.factor</span>(music_data<span class="op">$</span>top.genre)</a>
<a class="sourceLine" id="cb2-5" title="5">music_data<span class="op">$</span>explicit_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(music_data<span class="op">$</span>explicit, </a>
<a class="sourceLine" id="cb2-6" title="6">    <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;not explicit&quot;</span>, <span class="st">&quot;explicit&quot;</span>))</a>
<a class="sourceLine" id="cb2-7" title="7"></a>
<a class="sourceLine" id="cb2-8" title="8">music_data<span class="op">$</span>adv_spending &lt;-<span class="st"> </span>music_data<span class="op">$</span>adv_spending<span class="op">/</span><span class="dv">10</span><span class="op">^</span><span class="dv">111</span>  <span class="co"># e^111 = scaling factor for specific outliers</span></a>
<a class="sourceLine" id="cb2-9" title="9">music_data<span class="op">$</span>adv_spending2 &lt;-<span class="st"> </span>music_data<span class="op">$</span>adv_spending</a></code></pre></div>
<p>The <code>table()</code> function creates a frequency table. Let’s start with the number of occurrences of the categories associated with the genre and explicitness variables separately:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">table</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;genre_cat&quot;</span>)])  <span class="co">#absolute frequencies</span></a></code></pre></div>
<pre><code>## 
## hip hop   indie     pop     rap    rock 
##    9907     528   28448    1180    1839</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">table</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;explicit_cat&quot;</span>)])  <span class="co">#absolute frequencies</span></a></code></pre></div>
<pre><code>## 
## not explicit     explicit 
##        30204        11698</code></pre>
<p>It is obvious that there are more tracks with non-explicit lyrics than songs with explicit lyrics. For variables with more categories, it might be less obvious and we might use the <code>summary()</code> function, which produces further statistics.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">summary</span>(music_data<span class="op">$</span>explicit)</a></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.0000  0.0000  0.2792  1.0000  1.0000</code></pre>
<p>Often, we are interested in the relative frequencies, which can be obtained by using the <code>prop.table()</code> function.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">prop.table</span>(<span class="kw">table</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;genre_cat&quot;</span>)]))  <span class="co">#relative frequencies</span></a></code></pre></div>
<pre><code>## 
##    hip hop      indie        pop        rap       rock 
## 0.23643263 0.01260083 0.67891747 0.02816095 0.04388812</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">prop.table</span>(<span class="kw">table</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;explicit_cat&quot;</span>)]))  <span class="co">#relative frequencies</span></a></code></pre></div>
<pre><code>## 
## not explicit     explicit 
##    0.7208248    0.2791752</code></pre>
<p>Now let’s investigate if the genre differs by expliciteness. To do this, we simply apply the <code>table()</code> function to both variables:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">table</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;genre_cat&quot;</span>, <span class="st">&quot;explicit_cat&quot;</span>)])  <span class="co">#absolute frequencies</span></a></code></pre></div>
<pre><code>##          explicit_cat
## genre_cat not explicit explicit
##   hip hop         3515     6392
##   indie            495       33
##   pop            23881     4567
##   rap              536      644
##   rock            1777       62</code></pre>
<p>Again, it might be more meaningful to look at the relative frequencies using <code>prop.table()</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">prop.table</span>(<span class="kw">table</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;genre_cat&quot;</span>, <span class="st">&quot;explicit_cat&quot;</span>)]))  <span class="co">#relative frequencies</span></a></code></pre></div>
<pre><code>##          explicit_cat
## genre_cat not explicit     explicit
##   hip hop 0.0838862107 0.1525464178
##   indie   0.0118132786 0.0007875519
##   pop     0.5699250632 0.1089924109
##   rap     0.0127917522 0.0153691948
##   rock    0.0424084769 0.0014796430</code></pre>
<p>Note that the above output shows the overall relative frequencies when explicit and non-explicit songs are considered together. In this context, it might be even more meaningful to look at the conditional relative frequencies. This can be achieved by adding a <code>,2</code> to the <code>prop.table()</code> command, which tells R to compute the relative frequencies by the columns (which is in our case the explicitness variable):</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">prop.table</span>(<span class="kw">table</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;genre_cat&quot;</span>, <span class="st">&quot;explicit_cat&quot;</span>)]), </a>
<a class="sourceLine" id="cb17-2" title="2">    <span class="dv">2</span>)  <span class="co">#conditional relative frequencies</span></a></code></pre></div>
<pre><code>##          explicit_cat
## genre_cat not explicit    explicit
##   hip hop  0.116375315 0.546418191
##   indie    0.016388558 0.002820995
##   pop      0.790656867 0.390408617
##   rap      0.017745994 0.055052146
##   rock     0.058833267 0.005300051</code></pre>
</div>
<div id="continuous-variables" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Continuous variables</h3>
<div id="descriptive-statistics" class="section level4">
<h4><span class="header-section-number">1.1.2.1</span> Descriptive statistics</h4>
<p>Continuous variables are numeric variables that can take on any value on a measurement scale (i.e., there is an infinite number of values between any two values). There are different types of continuous variables:</p>
<ul>
<li><strong>Interval variables</strong>: while the zero point is arbitrary, equal intervals on the scale represent equal differences in the property being measured. E.g., on a temperature scale measured in Celsius the difference between a temperature of 15 degrees and 25 degrees is the same difference as between 25 degrees and 35 degrees but the zero point is arbitrary.</li>
<li><strong>Ratio variables</strong>: has all the properties of an interval variable, but also has an absolute zero point. When the variable equals 0.0, it means that there is none of that variable (e.g., number of products sold, willingness-to-pay, mileage a car gets).</li>
</ul>
<p>Computing descriptive statistics in R is easy and there are many functions from different packages that let you calculate summary statistics (including the <code>summary()</code> function from the <code>base</code> package). In this tutorial, we will use the <code>describe()</code> function from the <code>psych</code> package:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">library</span>(psych)</a>
<a class="sourceLine" id="cb19-2" title="2">psych<span class="op">::</span><span class="kw">describe</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;trackPopularity&quot;</span>, <span class="st">&quot;duration_ms&quot;</span>)])</a></code></pre></div>
<pre><code>##                 vars     n      mean       sd   median   trimmed      mad  min
## trackPopularity    1 41902     42.19    21.93     46.0     43.32    20.76    0
## duration_ms        2 41892 215476.95 59067.55 209990.5 212072.35 39194.75 1000
##                     max   range  skew kurtosis     se
## trackPopularity     100     100 -0.46    -0.57   0.11
## duration_ms     3924548 3923548 14.95   755.65 288.59</code></pre>
<p>In the above command, we used the <code>psych::</code> prefix to avoid confusion and to make sure that R uses the <code>describe()</code> function from the <code>psych</code> package since there are many other packages that also contain a <code>desribe()</code> function. Note that you could also compute these statistics separately by using the respective functions (e.g., <code>mean()</code>, <code>sd()</code>, <code>median()</code>, <code>min()</code>, <code>max()</code>, etc.).</p>
<p>The <code>psych</code> package also contains the <code>describeBy()</code> function, which lets you compute the summary statistics by sub-group separately. For example, we could easily compute the summary statistics by expliciteness as follows:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">describeBy</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;trackPopularity&quot;</span>, <span class="st">&quot;duration_ms&quot;</span>)], </a>
<a class="sourceLine" id="cb21-2" title="2">    music_data<span class="op">$</span>explicit_cat)</a></code></pre></div>
<pre><code>## 
##  Descriptive statistics by group 
## group: not explicit
##                 vars     n      mean       sd median   trimmed      mad  min
## trackPopularity    1 30204     41.08    21.48     44     42.02    20.76    0
## duration_ms        2 30195 219629.07 58949.53 213567 216310.72 38765.54 1000
##                     max   range  skew kurtosis     se
## trackPopularity     100     100 -0.39    -0.61   0.12
## duration_ms     3924548 3923548 18.08   986.56 339.24
## ------------------------------------------------------------ 
## group: explicit
##                 vars     n      mean       sd median   trimmed      mad   min
## trackPopularity    1 11698     45.07    22.81     50     46.71    19.27     0
## duration_ms        2 11697 204758.53 58015.74 198987 200790.11 38528.33 33422
##                     max   range  skew kurtosis     se
## trackPopularity      98      98 -0.67    -0.38   0.21
## duration_ms     2147004 2113582  7.54   184.82 536.42</code></pre>
<p>Note that you could just as well use other packages to compute the descriptive statistics. For example, you could have used the <code>stat.desc()</code> function from the <code>pastecs</code> package:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">library</span>(pastecs)</a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">stat.desc</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;trackPopularity&quot;</span>, <span class="st">&quot;duration_ms&quot;</span>)])</a></code></pre></div>
<pre><code>##              trackPopularity        duration_ms
## nbr.val        41902.0000000      41892.0000000
## nbr.null        2718.0000000          0.0000000
## nbr.na             0.0000000         10.0000000
## min                0.0000000       1000.0000000
## max              100.0000000    3924548.0000000
## range            100.0000000    3923548.0000000
## sum          1767874.0000000 9026760380.0000000
## median            46.0000000     209990.5000000
## mean              42.1906830     215476.9497756
## SE.mean            0.1071435        288.5914072
## CI.mean.0.95       0.2100034        565.6451076
## var              481.0231842 3488975232.0832715
## std.dev           21.9322407      59067.5480453
## coef.var           0.5198361          0.2741247</code></pre>
<p>Computing statistics by group is also possible by using the wrapper function <code>by()</code>. Within the function, you first specify the data on which you would like to perform the grouping <code>music_data[,c("trackPopularity", "adv_spending")]</code>, followed by the grouping variable <code>music_data$explicit_cat</code> and the function that you would like to execute (e.g., <code>stat.desc()</code>):</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">library</span>(pastecs)</a>
<a class="sourceLine" id="cb25-2" title="2"><span class="kw">by</span>(music_data[, <span class="kw">c</span>(<span class="st">&quot;trackPopularity&quot;</span>, <span class="st">&quot;duration_ms&quot;</span>)], </a>
<a class="sourceLine" id="cb25-3" title="3">    music_data<span class="op">$</span>explicit_cat, stat.desc)</a></code></pre></div>
<pre><code>## music_data$explicit_cat: not explicit
##              trackPopularity       duration_ms
## nbr.val        30204.0000000      30195.000000
## nbr.null        1777.0000000          0.000000
## nbr.na             0.0000000          9.000000
## min                0.0000000       1000.000000
## max              100.0000000    3924548.000000
## range            100.0000000    3923548.000000
## sum          1240696.0000000 6631699851.000000
## median            44.0000000     213567.000000
## mean              41.0772083     219629.072727
## SE.mean            0.1235926        339.244534
## CI.mean.0.95       0.2422467        664.933723
## var              461.3697298 3475047544.433871
## std.dev           21.4795188      58949.533878
## coef.var           0.5229060          0.268405
## ------------------------------------------------------------ 
## music_data$explicit_cat: explicit
##              trackPopularity        duration_ms
## nbr.val        11698.0000000      11697.0000000
## nbr.null         941.0000000          0.0000000
## nbr.na             0.0000000          1.0000000
## min                0.0000000      33422.0000000
## max               98.0000000    2147004.0000000
## range             98.0000000    2113582.0000000
## sum           527178.0000000 2395060529.0000000
## median            50.0000000     198987.0000000
## mean              45.0656522     204758.5303069
## SE.mean            0.2109063        536.4245115
## CI.mean.0.95       0.4134115       1051.4815357
## var              520.3441548 3365826447.7986922
## std.dev           22.8110533      58015.7431030
## coef.var           0.5061738          0.2833374</code></pre>
<p>These examples are meant to exemplify that there are often many different ways to reach a goal in R. Which one you choose depends on what type of information you seek (the results provide slightly different information) and on personal preferences.</p>
</div>
<div id="creating-subsets" class="section level4">
<h4><span class="header-section-number">1.1.2.2</span> Creating subsets</h4>
<p>From the above statistics it is clear that the data set contains some severe outliers on some variables. For example, the maximum amount of spending on advertisment is 5656214468105730048 units. You might want to investigate these cases and delete them if they would turn out to indeed induce a bias in your analyses. For normally distributed data, any absolute standardized deviations larger than 3 standard deviations from the mean are suspicious. Let’s check if potential outliers exist in the data:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb27-2" title="2">music_data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">adv_spending_std2 =</span> <span class="kw">as.vector</span>(<span class="kw">scale</span>(adv_spending2))) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb27-3" title="3"><span class="st">    </span><span class="kw">filter</span>(<span class="kw">abs</span>(adv_spending_std2) <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(id, </a>
<a class="sourceLine" id="cb27-4" title="4">    trackName, adv_spending2, adv_spending_std2)</a></code></pre></div>
<pre><code>## # A tibble: 2 x 4
##   id                     trackName      adv_spending2 adv_spending_std2
##   &lt;chr&gt;                  &lt;chr&gt;                  &lt;dbl&gt;             &lt;dbl&gt;
## 1 0bAkKNCQfWkexHFn7fIKns In My Feelings       5.66e18              62.6
## 2 14msK75pk3pA33pzPVNtBF 7 rings              1.01e18              11.1</code></pre>
<p>Indeed, there appear to be two potential outliers, which we may wish to exclude before we start fitting models to the data. You could easily create a subset of the original data, which you would then use for estimation using the <code>filter()</code> function from the <code>dplyr()</code> package. For example, the following code creates a subset that excludes all cases with a standardized duration of more than 3:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb29-2" title="2">estimation_sample &lt;-<span class="st"> </span>music_data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">adv_spending_std2 =</span> <span class="kw">as.vector</span>(<span class="kw">scale</span>(adv_spending2))) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-3" title="3"><span class="st">    </span><span class="kw">filter</span>(<span class="kw">abs</span>(adv_spending_std2) <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb29-4" title="4">psych<span class="op">::</span><span class="kw">describe</span>(estimation_sample[, <span class="kw">c</span>(<span class="st">&quot;trackPopularity&quot;</span>, </a>
<a class="sourceLine" id="cb29-5" title="5">    <span class="st">&quot;adv_spending2&quot;</span>)])</a></code></pre></div>
<pre><code>##                 vars    n             mean                 sd median trimmed
## trackPopularity    1 4038             56.1              25.75  65.00   59.04
## adv_spending2      2 4038 14299852780120.5 514033938921804.06   0.01   14.09
##                   mad min               max             range  skew kurtosis
## trackPopularity 16.31   0               100               100 -0.98    -0.27
## adv_spending2    0.01   0 23007897832533400 23007897832533400 41.45  1773.85
##                               se
## trackPopularity             0.41
## adv_spending2   8089257063071.86</code></pre>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"search": false
});
});
</script>

</body>

</html>
